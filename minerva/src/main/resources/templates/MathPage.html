{{master: master2}}

<div class="row"> 
    <div class="col-lg-12">
        <h1 class="page-header">{{title}}</h1>
        
        <p><a href="https://www.mathjax.org/" target="_blank">MathJax</a> {{N.formula}}:</p>

        <form class="form-horizontal">
            <fieldset>
                <div class="form-group">
                    <div class="col-lg-11">
                        <textarea class="form-control commentTextarea" id="text1" name="text1" rows="3" onkeyup="typing()"
                            autofocus>{{formula}}</textarea>
                    </div>
                    <div class="col-lg-1">
                        <a onclick="copy();" class="btn btn-default btn-sm" title="Copy"><i class="fa fa-copy"></i></a>
                    </div>
                    <div class="col-lg-11">
                        <p class="mt1">{{N.preview}}:</p>
                        <p id="o1" style="border: 1px dotted #ccc;">{{formula}}</p>
                    </div>
                </div>
            </fieldset>
        </form>
        
        <p><a href="{{serviceUrl}}{{formula2}}" id="png" target="_blank" style="font-size: 9pt; float: right;" download>PNG Download</a></p>
    </div>
</div>

<script>
function typing() {
    v = document.getElementById('text1').value
    document.getElementById('o1')
    .innerText = v
    MathJax.typesetPromise();
    document.getElementById('png').href = '{{serviceUrl}}' + v
        .replace('\\(', '').replace('\\)', '').replace('\\[', '').replace('\\]', '');
}

function copy() {
    document.getElementById("text1").select();
    document.execCommand('copy');
}
</script>
